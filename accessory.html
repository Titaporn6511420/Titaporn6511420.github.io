<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quotation</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f9fa;
            margin: 20px;
        }
        .header {
            padding: 20px 0;
        }
        .header h1 {
            font-size: 36px;
            font-weight: bold;
            color: #4e4e8c;
        }
        .header h3, .header p {
            margin: 0;
        }
        .company-info, .invoice-info {
            margin-bottom: 20px;
        }
        .ship-to {
            margin-top: 150px;
        }
        .company-info h2 {
            color: #4e4e8c;
        }
        .table-header {
            background-color: #4e4e8c;
        }
        table tbody tr td {
            vertical-align: middle;
        }
        .total-amount {
            font-size: 24px;
            display: inline-block;
            background-color: #4e4e8c;
            border-radius: 5px;
            color: white;
            padding: 5px 20px;
            min-width: 150px;
            text-align: center;
        }
        .footer {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            border-top: 1px solid #ddd;
            padding-top: 10px;
        }
        .footer-item {
            width: 30%;
        }
        .footer-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .footer-details {
            margin-bottom: 5px;
        }
        .footer-details a {
            color: #007bff;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row header">
            <div class="col company-info">
                <img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/f83ab63c-321c-425d-a2ef-b3952a1ac70f/d6g0rsu-12fc7a0f-ec55-474c-9b8e-91fb570f446b.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2Y4M2FiNjNjLTMyMWMtNDI1ZC1hMmVmLWIzOTUyYTFhYzcwZlwvZDZnMHJzdS0xMmZjN2EwZi1lYzU1LTQ3NGMtOWI4ZS05MWZiNTcwZjQ0NmIucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.BDa3W7_wbh6Oo3Ek5dtwZgPoT3bD1avO43UyosU9cbo" 
                class="img-fluid mb-2" style="max-width: 100px; height: auto" />
                <h1>Car Accessory.</h1>
                <div style="margin-top: 20px;">
                    <p style="font-weight: bold; color: #4e4e8c;">Company Address:</p>
                    <p>Bangsaothong
                        <br>Samutrprakarn 
                        <br>THAILAND
                        <br>30000
                        <br>(+66) 123 456 7890
                    </p>
                </div>
            </div>
            <div class="col text-end invoice-info">
                <h1>QUOTATION</h1>
                <p style="font-weight: bold;" id="quotationDate"></p>
                <div class="ship-to">
                    <p style="font-weight: bold;color: #4e4e8c;">Ship to:</p>
                    <p>Titaporn Tienanansuk<br>Bangkok, THAILAND.<br>(+66) 123 456 7890</p>
                </div>
            </div>
        </div>

        <div class="mb-3">
            <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Add Item
            </button>
        </div>

        <table class="table table-striped table-bordered table-condensed" id="quotationTable">
            <thead class="table-header">
                <tr>
                    <th>Items Description</th>
                    <th>Unit Price</th>
                    <th>Quantity</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <!-- Dynamic rows will be added here -->
            </tbody>
        </table>

        <hr class="divider" />

        <div class="row">
            <div class="col text-end">
                <p>SubTotal: <span id="subTotal">0.00</span></p>
                <p>VAT: <span id="vat">0.00</span></p>
                <b class="total-amount">TOTAL: <span id="total">0.00</span></b>
            </div>
        </div>

        <div class="footer">
            <div class="footer-item">
                <div class="footer-title">Note:</div>
                <div class="footer-details">Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt autem vel eum iriure dolor in hendrerit.</div>
            </div>
            <div class="footer-item">
                <div class="footer-title">Payment Info:</div>
                <div class="footer-details">Account : 1234 567 890</div>
                <div class="footer-details">A/C Name : Tammy SoBroke</div>
                <div class="footer-details">Bank Detail : Bank Givememoney</div>
            </div>
            <div class="footer-item">
                <div class="footer-title">Terms & Conditions/Note:</div>
                <div class="footer-details">Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt.</div>
            </div>
        </div>
        <div class="footer">
            <div class="footer-item">
                <div class="footer-title">Questions?</div>
                <div class="footer-details">Email us : <a href="mailto:company@mall.site">company@mall.site</a></div>
                <div class="footer-details">Call us : +628 123 456 789</div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="exampleModalLabel">Add Item</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <table class="table">
                        <tr>
                            <td>Product Lists</td>
                            <td>
                                <select class="form-select" id="newItemproduct" required>
                                    <option value="">Select Option</option>
                                    <option value="Car Cover">Car Cover</option>
                                    <option value="Seat Covers">Seat Covers</option>
                                    <option value="Wallet">Wallet</option>
                                    <option value="Phone Case">Phone Case</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Quantity</td>
                            <td>
                                <input type="number" min="0" id="newItemQty" class="form-control" />
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-outline-success" onclick="addItem()">Save New Item</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        var quotationData = [];
        var predefinedPrices = {
            "Car Cover": 50,
            "Seat Covers": 100,
            "Wallet": 10,
            "Phone Case": 20,
        };

        function addItem() {
            var product = $("#newItemproduct").val();
            var quantity = $("#newItemQty").val();

            if (product && quantity) {
                var unitPrice = predefinedPrices[product];
                quotationData.push({
                    product: product,
                    unitPrice: unitPrice,
                    quantity: parseFloat(quantity),
                });

                $("#exampleModal").modal("hide");
                renderTable();
            } else {
                alert("Please fill all the fields");
            }
        }

        function renderTable() {
            var subTotal = 0;
            var vat = 0;
            var total = 0;

            $("#quotationTable tbody").empty();

            quotationData.forEach((item, index) => {
                var itemTotal = item.unitPrice * item.quantity;
                subTotal += itemTotal;

                $("#quotationTable tbody").append(
                    `<tr class="data-row">
                        <td><button class="btn btn-danger btn-sm" onclick="deleteItem(${index})">X</button> ${item.product}</td>
                        <td class="text-right">$${item.unitPrice.toFixed(2)}</td>
                        <td class="text-right">${item.quantity}</td>
                        <td class="text-right">$${itemTotal.toFixed(2)}</td>
                    </tr>`
                );
            });

            vat = subTotal * 0.07; // VAT 7%
            total = subTotal + vat;

            $("#subTotal").text("$" + subTotal.toFixed(2));
            $("#vat").text("$" + vat.toFixed(2));
            $("#total").text("$" + total.toFixed(2));
        }

        function deleteItem(index) {
            quotationData.splice(index, 1);
            renderTable();
        }

        $(document).ready(function () {
            var date = new Date();
            $("#quotationDate").text(date.toDateString());
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>
